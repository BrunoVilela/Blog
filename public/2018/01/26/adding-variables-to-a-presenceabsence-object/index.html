<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.34" />


<title>Adding variables to a PresenceAbsence object - R tutorials for macroecology</title>
<meta property="og:title" content="Adding variables to a PresenceAbsence object - R tutorials for macroecology">



  










<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/bruno_trans.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="http://bvilela.weebly.com">About the author</a></li>
    
    <li><a href="https://github.com/BrunoVilela/brunovilela.github.io">GitHub</a></li>
    
    <li><a href="https://rmacroecology.netlify.com">Posts</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">8 min read</span>
    

    <h1 class="article-title">Adding variables to a PresenceAbsence object</h1>

    
    <span class="article-date">2018/01/26</span>
    

    <div class="article-content">
      <p>Once you have transformed species distribution data into a presence absence matrix (PAM) in <code>PresenceAbsence</code> format (see the <a href="https://rmacroecology.netlify.com/2018/01/23/a-guide-to-transform-species-shapefiles-into-a-presence-absence-matrix-based-on-a-user-defined-grid-system/">first</a> and <a href="https://rmacroecology.netlify.com/2018/01/24/transfom-a-matrix-of-species-presence-absence-into-a-presenceabsence-object/">second</a> posts on how to do it), you may want to add variables to it. These variables are normally in raster format, for example the WorldClim bioclimatic data, or in shapefile format, for example ecorregions of the world.</p>
<div id="adding-variables-in-raster-format" class="section level3">
<h3>Adding variables in raster format</h3>
<p>To add variables in raster format to a <code>PresenceAbsence</code> object we can use the function <code>lets.addvar</code> from the <code>letsR</code> package. This function takes a <code>raster</code> object with any resolution and extent, and transform it to match the information in your <code>PresenceAbsence</code> object. Once this is done, the variables are included as additional columns containing the aggregate/summarize value of the variable(s) in each cell of the presence-absence matrix. Let’s see an example using the bioclimatic data from WorldClim that can be downloaded with the package <code>raster</code>.</p>
<pre class="r"><code>library(letsR)</code></pre>
<p>First we get the data.</p>
<pre class="r"><code>r &lt;- getData(&quot;worldclim&quot;, var = &quot;bio&quot;, 
             res = 10)
plot(r)</code></pre>
<p><img src="/post/2018-01-26-adding-variables-to-a-presenceabsence-object_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Here I will use the <code>PresenceAbsence</code> object for Phyllomedusa species <a href="https://rmacroecology.netlify.com/2018/01/23/a-guide-to-transform-species-shapefiles-into-a-presence-absence-matrix-based-on-a-user-defined-grid-system/">generated previously</a>.</p>
<pre class="r"><code>data(PAM)
plot(PAM, main = &quot;Phyllomedusa\nRichness&quot;)</code></pre>
<p><img src="/post/2018-01-26-adding-variables-to-a-presenceabsence-object_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Let’s check the projection differences.</p>
<pre class="r"><code>projection(r)</code></pre>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0&quot;</code></pre>
<pre class="r"><code>projection(PAM$Richness_Raster)</code></pre>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84&quot;</code></pre>
<p>Since the CRS descriptions differ, we have to fix them first. In this case the projections are actually the same, but the character describing them differ, so we can just change the name directly. But if the projections are actually different, you may want to use the function <code>raster::projectRaster</code>.</p>
<pre class="r"><code>projection(PAM$Richness_Raster) &lt;- projection(r)</code></pre>
<p>We can now run the <code>lets.addvar</code> function.</p>
<pre class="r"><code>PAM_env &lt;- lets.addvar(PAM, r, fun = mean)</code></pre>
<p>The climatic data have a higher resolution than our PAM. In this case, we could choose a function to aggregate the values with the argument <code>fun</code>. In most of the situations, people will be interested in averaging values to aggregate multiple cells, but in some specific cases you may want to sum them, or get the standard deviation, or use any another function.</p>
<p>The result is a presence absence matrix, where the last columns now include the raster values. Check the table:</p>
<pre class="r"><code>head(PAM_env)</code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:400px; overflow-x: scroll; width:800px; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
Longitude(x)
</th>
<th style="text-align:right;">
Latitude(y)
</th>
<th style="text-align:right;">
Phyllomedusa araguari
</th>
<th style="text-align:right;">
Phyllomedusa atelopoides
</th>
<th style="text-align:right;">
Phyllomedusa ayeaye
</th>
<th style="text-align:right;">
Phyllomedusa azurea
</th>
<th style="text-align:right;">
Phyllomedusa bahiana
</th>
<th style="text-align:right;">
Phyllomedusa baltea
</th>
<th style="text-align:right;">
Phyllomedusa bicolor
</th>
<th style="text-align:right;">
Phyllomedusa boliviana
</th>
<th style="text-align:right;">
Phyllomedusa burmeisteri
</th>
<th style="text-align:right;">
Phyllomedusa camba
</th>
<th style="text-align:right;">
Phyllomedusa centralis
</th>
<th style="text-align:right;">
Phyllomedusa coelestis
</th>
<th style="text-align:right;">
Phyllomedusa distincta
</th>
<th style="text-align:right;">
Phyllomedusa duellmani
</th>
<th style="text-align:right;">
Phyllomedusa ecuatoriana
</th>
<th style="text-align:right;">
Phyllomedusa hypochondrialis
</th>
<th style="text-align:right;">
Phyllomedusa iheringii
</th>
<th style="text-align:right;">
Phyllomedusa itacolomi
</th>
<th style="text-align:right;">
Phyllomedusa megacephala
</th>
<th style="text-align:right;">
Phyllomedusa neildi
</th>
<th style="text-align:right;">
Phyllomedusa nordestina
</th>
<th style="text-align:right;">
Phyllomedusa oreades
</th>
<th style="text-align:right;">
Phyllomedusa palliata
</th>
<th style="text-align:right;">
Phyllomedusa perinesos
</th>
<th style="text-align:right;">
Phyllomedusa rohdei
</th>
<th style="text-align:right;">
Phyllomedusa sauvagii
</th>
<th style="text-align:right;">
Phyllomedusa tarsius
</th>
<th style="text-align:right;">
Phyllomedusa tetraploidea
</th>
<th style="text-align:right;">
Phyllomedusa tomopterna
</th>
<th style="text-align:right;">
Phyllomedusa trinitatis
</th>
<th style="text-align:right;">
Phyllomedusa vaillantii
</th>
<th style="text-align:right;">
Phyllomedusa venusta
</th>
<th style="text-align:right;">
bio1_mean
</th>
<th style="text-align:right;">
bio2_mean
</th>
<th style="text-align:right;">
bio3_mean
</th>
<th style="text-align:right;">
bio4_mean
</th>
<th style="text-align:right;">
bio5_mean
</th>
<th style="text-align:right;">
bio6_mean
</th>
<th style="text-align:right;">
bio7_mean
</th>
<th style="text-align:right;">
bio8_mean
</th>
<th style="text-align:right;">
bio9_mean
</th>
<th style="text-align:right;">
bio10_mean
</th>
<th style="text-align:right;">
bio11_mean
</th>
<th style="text-align:right;">
bio12_mean
</th>
<th style="text-align:right;">
bio13_mean
</th>
<th style="text-align:right;">
bio14_mean
</th>
<th style="text-align:right;">
bio15_mean
</th>
<th style="text-align:right;">
bio16_mean
</th>
<th style="text-align:right;">
bio17_mean
</th>
<th style="text-align:right;">
bio18_mean
</th>
<th style="text-align:right;">
bio19_mean
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
-74.5
</td>
<td style="text-align:right;">
11.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
258.4000
</td>
<td style="text-align:right;">
91.65000
</td>
<td style="text-align:right;">
82.20000
</td>
<td style="text-align:right;">
526.7500
</td>
<td style="text-align:right;">
311.0500
</td>
<td style="text-align:right;">
200.1500
</td>
<td style="text-align:right;">
110.9000
</td>
<td style="text-align:right;">
258.7000
</td>
<td style="text-align:right;">
252.0000
</td>
<td style="text-align:right;">
263.5500
</td>
<td style="text-align:right;">
250.6000
</td>
<td style="text-align:right;">
1198.0500
</td>
<td style="text-align:right;">
250.7000
</td>
<td style="text-align:right;">
7.60000
</td>
<td style="text-align:right;">
80.50000
</td>
<td style="text-align:right;">
591.4000
</td>
<td style="text-align:right;">
34.15000
</td>
<td style="text-align:right;">
341.5500
</td>
<td style="text-align:right;">
108.0000
</td>
</tr>
<tr>
<td style="text-align:right;">
-69.5
</td>
<td style="text-align:right;">
11.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
262.8497
</td>
<td style="text-align:right;">
84.22171
</td>
<td style="text-align:right;">
71.63269
</td>
<td style="text-align:right;">
892.6027
</td>
<td style="text-align:right;">
322.6034
</td>
<td style="text-align:right;">
206.4553
</td>
<td style="text-align:right;">
116.1482
</td>
<td style="text-align:right;">
262.5537
</td>
<td style="text-align:right;">
254.9960
</td>
<td style="text-align:right;">
272.4501
</td>
<td style="text-align:right;">
250.0026
</td>
<td style="text-align:right;">
731.0237
</td>
<td style="text-align:right;">
122.2032
</td>
<td style="text-align:right;">
17.98552
</td>
<td style="text-align:right;">
56.41115
</td>
<td style="text-align:right;">
309.3956
</td>
<td style="text-align:right;">
75.65198
</td>
<td style="text-align:right;">
198.3499
</td>
<td style="text-align:right;">
145.9311
</td>
</tr>
<tr>
<td style="text-align:right;">
-68.5
</td>
<td style="text-align:right;">
11.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
266.2190
</td>
<td style="text-align:right;">
76.64375
</td>
<td style="text-align:right;">
73.65425
</td>
<td style="text-align:right;">
675.3595
</td>
<td style="text-align:right;">
319.1875
</td>
<td style="text-align:right;">
216.5294
</td>
<td style="text-align:right;">
102.6581
</td>
<td style="text-align:right;">
264.4078
</td>
<td style="text-align:right;">
261.5261
</td>
<td style="text-align:right;">
272.8083
</td>
<td style="text-align:right;">
256.0042
</td>
<td style="text-align:right;">
981.2149
</td>
<td style="text-align:right;">
166.8388
</td>
<td style="text-align:right;">
19.68305
</td>
<td style="text-align:right;">
57.18767
</td>
<td style="text-align:right;">
431.8224
</td>
<td style="text-align:right;">
98.00707
</td>
<td style="text-align:right;">
238.0230
</td>
<td style="text-align:right;">
229.3728
</td>
</tr>
<tr>
<td style="text-align:right;">
-75.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
277.1437
</td>
<td style="text-align:right;">
90.83067
</td>
<td style="text-align:right;">
80.08133
</td>
<td style="text-align:right;">
426.1697
</td>
<td style="text-align:right;">
330.8697
</td>
<td style="text-align:right;">
217.9157
</td>
<td style="text-align:right;">
112.9540
</td>
<td style="text-align:right;">
276.3097
</td>
<td style="text-align:right;">
273.5883
</td>
<td style="text-align:right;">
281.3817
</td>
<td style="text-align:right;">
270.9663
</td>
<td style="text-align:right;">
1055.2210
</td>
<td style="text-align:right;">
205.3570
</td>
<td style="text-align:right;">
4.30900
</td>
<td style="text-align:right;">
73.66500
</td>
<td style="text-align:right;">
486.6277
</td>
<td style="text-align:right;">
19.99833
</td>
<td style="text-align:right;">
258.0923
</td>
<td style="text-align:right;">
109.8290
</td>
</tr>
<tr>
<td style="text-align:right;">
-74.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
268.4548
</td>
<td style="text-align:right;">
108.15780
</td>
<td style="text-align:right;">
82.40520
</td>
<td style="text-align:right;">
445.8382
</td>
<td style="text-align:right;">
332.6014
</td>
<td style="text-align:right;">
202.0994
</td>
<td style="text-align:right;">
130.5020
</td>
<td style="text-align:right;">
266.5624
</td>
<td style="text-align:right;">
265.9968
</td>
<td style="text-align:right;">
273.0954
</td>
<td style="text-align:right;">
261.9868
</td>
<td style="text-align:right;">
1337.1702
</td>
<td style="text-align:right;">
237.9668
</td>
<td style="text-align:right;">
11.50960
</td>
<td style="text-align:right;">
66.55720
</td>
<td style="text-align:right;">
586.0000
</td>
<td style="text-align:right;">
52.64860
</td>
<td style="text-align:right;">
315.4482
</td>
<td style="text-align:right;">
273.1824
</td>
</tr>
<tr>
<td style="text-align:right;">
-69.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
238.6514
</td>
<td style="text-align:right;">
100.90767
</td>
<td style="text-align:right;">
79.92085
</td>
<td style="text-align:right;">
588.9459
</td>
<td style="text-align:right;">
299.3219
</td>
<td style="text-align:right;">
173.6980
</td>
<td style="text-align:right;">
125.6239
</td>
<td style="text-align:right;">
239.7355
</td>
<td style="text-align:right;">
231.9007
</td>
<td style="text-align:right;">
244.1322
</td>
<td style="text-align:right;">
229.8309
</td>
<td style="text-align:right;">
808.9125
</td>
<td style="text-align:right;">
127.8143
</td>
<td style="text-align:right;">
12.74922
</td>
<td style="text-align:right;">
55.21132
</td>
<td style="text-align:right;">
338.7148
</td>
<td style="text-align:right;">
52.07358
</td>
<td style="text-align:right;">
233.9582
</td>
<td style="text-align:right;">
106.5961
</td>
</tr>
</tbody>
</table>
</div>
<p>If you do not want the coordinates and species included you can set the argument <code>onlyvar = TRUE</code>.</p>
<pre class="r"><code>climate &lt;- lets.addvar(PAM, r, fun = mean, onlyvar = TRUE)</code></pre>
<pre class="r"><code>head(climate)</code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:400px; overflow-x: scroll; width:800px; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
bio1_mean
</th>
<th style="text-align:right;">
bio2_mean
</th>
<th style="text-align:right;">
bio3_mean
</th>
<th style="text-align:right;">
bio4_mean
</th>
<th style="text-align:right;">
bio5_mean
</th>
<th style="text-align:right;">
bio6_mean
</th>
<th style="text-align:right;">
bio7_mean
</th>
<th style="text-align:right;">
bio8_mean
</th>
<th style="text-align:right;">
bio9_mean
</th>
<th style="text-align:right;">
bio10_mean
</th>
<th style="text-align:right;">
bio11_mean
</th>
<th style="text-align:right;">
bio12_mean
</th>
<th style="text-align:right;">
bio13_mean
</th>
<th style="text-align:right;">
bio14_mean
</th>
<th style="text-align:right;">
bio15_mean
</th>
<th style="text-align:right;">
bio16_mean
</th>
<th style="text-align:right;">
bio17_mean
</th>
<th style="text-align:right;">
bio18_mean
</th>
<th style="text-align:right;">
bio19_mean
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
258.4000
</td>
<td style="text-align:right;">
91.65000
</td>
<td style="text-align:right;">
82.20000
</td>
<td style="text-align:right;">
526.7500
</td>
<td style="text-align:right;">
311.0500
</td>
<td style="text-align:right;">
200.1500
</td>
<td style="text-align:right;">
110.9000
</td>
<td style="text-align:right;">
258.7000
</td>
<td style="text-align:right;">
252.0000
</td>
<td style="text-align:right;">
263.5500
</td>
<td style="text-align:right;">
250.6000
</td>
<td style="text-align:right;">
1198.0500
</td>
<td style="text-align:right;">
250.7000
</td>
<td style="text-align:right;">
7.60000
</td>
<td style="text-align:right;">
80.50000
</td>
<td style="text-align:right;">
591.4000
</td>
<td style="text-align:right;">
34.15000
</td>
<td style="text-align:right;">
341.5500
</td>
<td style="text-align:right;">
108.0000
</td>
</tr>
<tr>
<td style="text-align:right;">
262.8497
</td>
<td style="text-align:right;">
84.22171
</td>
<td style="text-align:right;">
71.63269
</td>
<td style="text-align:right;">
892.6027
</td>
<td style="text-align:right;">
322.6034
</td>
<td style="text-align:right;">
206.4553
</td>
<td style="text-align:right;">
116.1482
</td>
<td style="text-align:right;">
262.5537
</td>
<td style="text-align:right;">
254.9960
</td>
<td style="text-align:right;">
272.4501
</td>
<td style="text-align:right;">
250.0026
</td>
<td style="text-align:right;">
731.0237
</td>
<td style="text-align:right;">
122.2032
</td>
<td style="text-align:right;">
17.98552
</td>
<td style="text-align:right;">
56.41115
</td>
<td style="text-align:right;">
309.3956
</td>
<td style="text-align:right;">
75.65198
</td>
<td style="text-align:right;">
198.3499
</td>
<td style="text-align:right;">
145.9311
</td>
</tr>
<tr>
<td style="text-align:right;">
266.2190
</td>
<td style="text-align:right;">
76.64375
</td>
<td style="text-align:right;">
73.65425
</td>
<td style="text-align:right;">
675.3595
</td>
<td style="text-align:right;">
319.1875
</td>
<td style="text-align:right;">
216.5294
</td>
<td style="text-align:right;">
102.6581
</td>
<td style="text-align:right;">
264.4078
</td>
<td style="text-align:right;">
261.5261
</td>
<td style="text-align:right;">
272.8083
</td>
<td style="text-align:right;">
256.0042
</td>
<td style="text-align:right;">
981.2149
</td>
<td style="text-align:right;">
166.8388
</td>
<td style="text-align:right;">
19.68305
</td>
<td style="text-align:right;">
57.18767
</td>
<td style="text-align:right;">
431.8224
</td>
<td style="text-align:right;">
98.00707
</td>
<td style="text-align:right;">
238.0230
</td>
<td style="text-align:right;">
229.3728
</td>
</tr>
<tr>
<td style="text-align:right;">
277.1437
</td>
<td style="text-align:right;">
90.83067
</td>
<td style="text-align:right;">
80.08133
</td>
<td style="text-align:right;">
426.1697
</td>
<td style="text-align:right;">
330.8697
</td>
<td style="text-align:right;">
217.9157
</td>
<td style="text-align:right;">
112.9540
</td>
<td style="text-align:right;">
276.3097
</td>
<td style="text-align:right;">
273.5883
</td>
<td style="text-align:right;">
281.3817
</td>
<td style="text-align:right;">
270.9663
</td>
<td style="text-align:right;">
1055.2210
</td>
<td style="text-align:right;">
205.3570
</td>
<td style="text-align:right;">
4.30900
</td>
<td style="text-align:right;">
73.66500
</td>
<td style="text-align:right;">
486.6277
</td>
<td style="text-align:right;">
19.99833
</td>
<td style="text-align:right;">
258.0923
</td>
<td style="text-align:right;">
109.8290
</td>
</tr>
<tr>
<td style="text-align:right;">
268.4548
</td>
<td style="text-align:right;">
108.15780
</td>
<td style="text-align:right;">
82.40520
</td>
<td style="text-align:right;">
445.8382
</td>
<td style="text-align:right;">
332.6014
</td>
<td style="text-align:right;">
202.0994
</td>
<td style="text-align:right;">
130.5020
</td>
<td style="text-align:right;">
266.5624
</td>
<td style="text-align:right;">
265.9968
</td>
<td style="text-align:right;">
273.0954
</td>
<td style="text-align:right;">
261.9868
</td>
<td style="text-align:right;">
1337.1702
</td>
<td style="text-align:right;">
237.9668
</td>
<td style="text-align:right;">
11.50960
</td>
<td style="text-align:right;">
66.55720
</td>
<td style="text-align:right;">
586.0000
</td>
<td style="text-align:right;">
52.64860
</td>
<td style="text-align:right;">
315.4482
</td>
<td style="text-align:right;">
273.1824
</td>
</tr>
<tr>
<td style="text-align:right;">
238.6514
</td>
<td style="text-align:right;">
100.90767
</td>
<td style="text-align:right;">
79.92085
</td>
<td style="text-align:right;">
588.9459
</td>
<td style="text-align:right;">
299.3219
</td>
<td style="text-align:right;">
173.6980
</td>
<td style="text-align:right;">
125.6239
</td>
<td style="text-align:right;">
239.7355
</td>
<td style="text-align:right;">
231.9007
</td>
<td style="text-align:right;">
244.1322
</td>
<td style="text-align:right;">
229.8309
</td>
<td style="text-align:right;">
808.9125
</td>
<td style="text-align:right;">
127.8143
</td>
<td style="text-align:right;">
12.74922
</td>
<td style="text-align:right;">
55.21132
</td>
<td style="text-align:right;">
338.7148
</td>
<td style="text-align:right;">
52.07358
</td>
<td style="text-align:right;">
233.9582
</td>
<td style="text-align:right;">
106.5961
</td>
</tr>
</tbody>
</table>
</div>
<p>Now that we have the variables, we can use it to relate to our species data in many ways. For example, you could graph the relationship between precipitation/temperature and species richness.</p>
<pre class="r"><code>library(ggplot2)</code></pre>
<pre class="r"><code>rich &lt;- rowSums(PAM$P[, -(1:2)])

mpg1 &lt;- data.frame(&quot;Temperature&quot; = climate[, 1]/10,
                   &quot;Precipitation&quot; = climate[, 12],
                   &quot;Richness&quot; = rich)
f1 &lt;- ggplot(mpg1, aes(Temperature, Richness))
f1 &lt;- f1 + geom_smooth(model = lm) + 
  geom_point(col = rgb(0, 0, 0, .6)) + 
  theme_bw()

f2 &lt;- ggplot(mpg1, aes(Precipitation, Richness))
f2 &lt;- f2 + geom_smooth(model = lm) + 
  geom_point(col = rgb(0, 0, 0, .6)) + 
  theme_bw()

f1</code></pre>
<p><img src="/post/2018-01-26-adding-variables-to-a-presenceabsence-object_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>f2</code></pre>
<p><img src="/post/2018-01-26-adding-variables-to-a-presenceabsence-object_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
</div>
<div id="adding-variables-in-polygon-format" class="section level3">
<h3>Adding variables in polygon format</h3>
<p>Data in shapefile format like ecorregions, conservation units or countries, can be added to a PAM using the function <code>lets.addpoly</code>. This function adds polygons’ attributes as columns at the right-end of the matrix. The values represent the percentage of the cell covered by the polygon attribute used. As an example, we can use the South America countries map available in the package <code>maptools</code>.</p>
<pre class="r"><code>library(maptools)</code></pre>
<pre class="r"><code>data(&quot;wrld_simpl&quot;)
SA &lt;- c(&quot;Brazil&quot;, &quot;Colombia&quot;,  &quot;Argentina&quot;,
        &quot;Peru&quot;, &quot;Venezuela&quot;, &quot;Chile&quot;,
        &quot;Ecuador&quot;, &quot;Bolivia&quot;, &quot;Paraguay&quot;,
        &quot;Uruguay&quot;, &quot;Guyana&quot;, &quot;Suriname&quot;,
        &quot;French Guiana&quot;)
south_ame &lt;- wrld_simpl[wrld_simpl@data$NAME %in% SA, ]
plot(south_ame)</code></pre>
<p><img src="/post/2018-01-26-adding-variables-to-a-presenceabsence-object_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Now we can add this variables to our PAM.</p>
<pre class="r"><code>PAM_pol &lt;- lets.addpoly(PAM, south_ame, &quot;NAME&quot;)</code></pre>
<pre class="r"><code>head(PAM_pol)</code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:400px; overflow-x: scroll; width:800px; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
Longitude(x)
</th>
<th style="text-align:right;">
Latitude(y)
</th>
<th style="text-align:right;">
Phyllomedusa araguari
</th>
<th style="text-align:right;">
Phyllomedusa atelopoides
</th>
<th style="text-align:right;">
Phyllomedusa ayeaye
</th>
<th style="text-align:right;">
Phyllomedusa azurea
</th>
<th style="text-align:right;">
Phyllomedusa bahiana
</th>
<th style="text-align:right;">
Phyllomedusa baltea
</th>
<th style="text-align:right;">
Phyllomedusa bicolor
</th>
<th style="text-align:right;">
Phyllomedusa boliviana
</th>
<th style="text-align:right;">
Phyllomedusa burmeisteri
</th>
<th style="text-align:right;">
Phyllomedusa camba
</th>
<th style="text-align:right;">
Phyllomedusa centralis
</th>
<th style="text-align:right;">
Phyllomedusa coelestis
</th>
<th style="text-align:right;">
Phyllomedusa distincta
</th>
<th style="text-align:right;">
Phyllomedusa duellmani
</th>
<th style="text-align:right;">
Phyllomedusa ecuatoriana
</th>
<th style="text-align:right;">
Phyllomedusa hypochondrialis
</th>
<th style="text-align:right;">
Phyllomedusa iheringii
</th>
<th style="text-align:right;">
Phyllomedusa itacolomi
</th>
<th style="text-align:right;">
Phyllomedusa megacephala
</th>
<th style="text-align:right;">
Phyllomedusa neildi
</th>
<th style="text-align:right;">
Phyllomedusa nordestina
</th>
<th style="text-align:right;">
Phyllomedusa oreades
</th>
<th style="text-align:right;">
Phyllomedusa palliata
</th>
<th style="text-align:right;">
Phyllomedusa perinesos
</th>
<th style="text-align:right;">
Phyllomedusa rohdei
</th>
<th style="text-align:right;">
Phyllomedusa sauvagii
</th>
<th style="text-align:right;">
Phyllomedusa tarsius
</th>
<th style="text-align:right;">
Phyllomedusa tetraploidea
</th>
<th style="text-align:right;">
Phyllomedusa tomopterna
</th>
<th style="text-align:right;">
Phyllomedusa trinitatis
</th>
<th style="text-align:right;">
Phyllomedusa vaillantii
</th>
<th style="text-align:right;">
Phyllomedusa venusta
</th>
<th style="text-align:right;">
Argentina
</th>
<th style="text-align:right;">
Bolivia
</th>
<th style="text-align:right;">
Brazil
</th>
<th style="text-align:right;">
Chile
</th>
<th style="text-align:right;">
Colombia
</th>
<th style="text-align:right;">
Ecuador
</th>
<th style="text-align:right;">
French Guiana
</th>
<th style="text-align:right;">
Guyana
</th>
<th style="text-align:right;">
Suriname
</th>
<th style="text-align:right;">
Paraguay
</th>
<th style="text-align:right;">
Peru
</th>
<th style="text-align:right;">
Uruguay
</th>
<th style="text-align:right;">
Venezuela
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
-74.5
</td>
<td style="text-align:right;">
11.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.12
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:right;">
-69.5
</td>
<td style="text-align:right;">
11.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.58
</td>
</tr>
<tr>
<td style="text-align:right;">
-68.5
</td>
<td style="text-align:right;">
11.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.17
</td>
</tr>
<tr>
<td style="text-align:right;">
-75.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:right;">
-74.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.97
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:right;">
-69.5
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
</tbody>
</table>
</div>
<p>This information can be used to calculate the number of species per country for example.</p>
<pre class="r"><code>vars_col &lt;- (ncol(PAM$P) + 1):ncol(PAM_pol)
n &lt;- length(vars_col)
rich_count &lt;- numeric(n)
for (i in 1:n) {
  rich_count[i] &lt;- sum(colSums(PAM$P[PAM_pol[, vars_col[i]] &gt; 0,
                                     -(1:2)]) &gt; 0)
}
labs &lt;- as.factor(colnames(PAM_pol)[vars_col])
names(rich_count) &lt;- labs</code></pre>
<pre class="r"><code>mpg &lt;- data.frame(&quot;Richness&quot; = rich_count, &quot;Country&quot; = as.factor(labs))
g &lt;- ggplot(mpg, aes(labs, Richness))
g + geom_bar(stat = &quot;identity&quot;) + labs(x = &quot;&quot;) +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))</code></pre>
<p><img src="/post/2018-01-26-adding-variables-to-a-presenceabsence-object_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>

    </div>
  </article>

  <div id="disqus_thread"></div>
<script>
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://https-rmacroecology-netlify-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdn.bootcss.com/highlight.js//highlight.min.js"></script>



<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-113034513-1', 'auto');
ga('send', 'pageview');
</script>

  </body>
</html>

